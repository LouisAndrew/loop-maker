(this["webpackJsonploop-maker"]=this["webpackJsonploop-maker"]||[]).push([[0],{73:function(t,e,n){},95:function(t,e,n){},96:function(t,e,n){"use strict";n.r(e);var r=n(2),c=n.n(r),a=n(38),o=n.n(a),i=(n(73),n(74),n(1)),l=n(64),u=n(117),s=n(118),d=n(0),b=n.n(d),j=n(8),f=n(7),h=n(5),O=n(36),p=n(60),x=n.n(p),m=["B","A","G","F","E","D","C#","C"],v=["C"].concat(m,m),y="__",g=8,w=4,k=2,C=1,I=n(116),S=n(6),E=function(t){var e=t.playDuration,n=t.trackColor,c=Object(r.useState)(Math.random()),a=Object(h.a)(c,2),o=a[0],i=a[1],l=Object(r.useState)(0),u=Object(h.a)(l,2),d=u[0],b=u[1],j=0!==e,f=function(){b(0),i(Math.random())};return Object(r.useEffect)((function(){var t;return e>0?t=setInterval((function(){b((function(t){return 100===t?t:t+1}))}),e/100):f(),function(){t&&(f(),clearInterval(t))}}),[e]),j?Object(S.jsxs)(s.a,{position:"absolute",height:"100%",width:"100%",bgcolor:"rgba(0, 0, 0, 0.1)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",sx:{backdropFilter:"blur(1px)",zIndex:99},children:[Object(S.jsx)(s.a,{color:"#fff",fontWeight:"bold",fontSize:"32px",children:"PLAYING AUDIO"}),Object(S.jsx)(s.a,{width:"20vw",color:"primary.".concat(n),sx:{marginTop:3},children:Object(S.jsx)(I.a,{color:"inherit",variant:"determinate",value:d},o)})]}):null};E.defaultProps={trackColor:"yellow"};var A=E,D=n(9),M=n(113),R=n(114),z=n(62),P=n.n(z),_=n(63),B=function(t){var e=t.trackColor,n=void 0===e?"yellow":e,a=t.onPlay,o=Object(r.useState)([]),l=Object(h.a)(o,2),u=l[0],d=l[1],b=Object(r.useState)({}),f=Object(h.a)(b,2),O=f[0],p=f[1],x=Object(r.useState)(Math.random()),m=Object(h.a)(x,2),g=m[0],w=m[1],k=Object(r.useRef)(!0),C=function(){return w(Math.random())},I=function(t){return Array.from(Array(t))};return Object(r.useEffect)((function(){k.current?k.current=!1:C()}),[u,O]),Object(S.jsxs)(M.a,{padding:4,children:[Object(S.jsxs)(M.a,{direction:"row",paddingBottom:2,children:[Object(S.jsx)(R.a,{onClick:function(){a(u.map((function(t){var e;return"".concat(t).concat(y).concat(null!==(e=O[t])&&void 0!==e?e:0)})))},display:"block",sx:{marginRight:1},children:"Play"}),Object(S.jsx)(R.a,{onClick:function(){d([]),p([])},variant:"outlined",children:"Clear"})]}),Object(S.jsx)(M.a,{spacing:.25,children:I(17).map((function(t,e){var r=e%8===0?"primary.".concat(n,"_c"):"primary.".concat(n).concat(["","_darker"][Math.floor(e/8)]);return Object(S.jsxs)(M.a,{width:"fit-content",spacing:.25,direction:"row",alignItems:"center",sx:{borderWidth:1,borderStyle:"solid",borderColor:"transparent",borderRadius:.5,"&:hover":{borderColor:r,transition:"200ms"}},children:[Object(S.jsx)(s.a,{height:30,width:50,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",color:r,children:v[e]}),I(48).map((function(t,n){var a="".concat(e).concat(y).concat(n),o=O[a];return Object(S.jsx)(c.a.Fragment,{children:Object(S.jsx)(s.a,{width:30,height:30,borderRadius:.5,sx:{backgroundColor:"primary.dark","&:hover":{backgroundColor:"primary.main",opacity:[.9,.8,.7]}},onClick:function(){return t=a,void(u.includes(t)?(d((function(e){return e.filter((function(e){return e!==t}))})),p((function(e){return P()(e,[t])}))):(d([].concat(Object(j.a)(u),[t])),p(Object(i.a)(Object(i.a)({},O),{},Object(D.a)({},t.toString(),1)))));var t},children:u.includes(a)&&o?Object(S.jsx)(_.ResizableBox,{height:30,width:30*o+2*(o-1),axis:"x",handleSize:[10,10],onResizeStop:function(t,e){!function(t,e){var n=e.split(y),r=Object(h.a)(n,2),c=r[0],a=r[1];if(u.includes("".concat(c).concat(y).concat(parseInt(a,10)+1)))C();else{var o=Math.floor(t/32)+(t%32>0?1:0),l=parseInt(a,10)+o-1;[u.includes(l),l>=48].some(Boolean)?C():p((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(D.a)({},e,o))}))}}(e.size.width,a)},children:Object(S.jsx)(s.a,{bgcolor:r,height:"100%",width:"100%",borderRadius:.5})}):null})},"col-".concat(n))}))]},"row-".concat(e))}))},g)]})};B.defaultProps={trackColor:"yellow"};var F=B,W=function(){var t=Object(r.useState)(0),e=Object(h.a)(t,2),n=e[0],c=e[1],a=function(t,e){return[Math.floor(t/e),t%e]},o=function(t){var e=a(t,g),n=Object(h.a)(e,2),r=n[0],c=n[1],o=a(c,w),i=Object(h.a)(o,2),l=i[0],u=i[1],s=a(u,k),d=Object(h.a)(s,2),b=d[0],j=d[1],f=a(j,C);return{"1n":r,"2n":l,"4n":b,"8n":Object(h.a)(f,1)[0]}},i=function(t){return O.b.toSeconds(t)},l=function(){var t=Object(f.a)(b.a.mark((function t(e){var n,r,a,l;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.map((function(t){var e=t.split(y),n=Object(h.a)(e,3),r=n[0],c=n[1],a=n[2];return{row:r,duration:o(a),start:o(c)}})),(r=Object.entries(x()(n,(function(t){return t.row}))).map((function(t){var e=Object(h.a)(t,2),n=e[0],r=e[1];return{note:function(){var t=v[n],e=[5,4,3][Math.floor(n/7)];return"".concat(t).concat("C"===t?e+1:e)}(),noteDatas:r,player:(new O.a).toDestination()}}))).forEach((function(t){var e=t.noteDatas,n=t.player,r=t.note;e.forEach((function(t){var e=t.duration,c=t.start;n.triggerAttackRelease(r,e,"+".concat(i(c)))}))})),!(n.length>0)){t.next=11;break}return a=Object(j.a)(n).map((function(t){return e=t.start,n=t.duration,1e3*(i(e)+i(n));var e,n})),l=a.sort((function(t,e){return e-t}))[0],c(l),t.next=9,O.c();case 9:setTimeout((function(){c(0),r.forEach((function(t){t.player.dispose()}))}),l+500),O.b.cancel(l/1e3);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(S.jsxs)(s.a,{position:"relative",children:[Object(S.jsx)(A,{trackColor:"yellow",playDuration:n}),Object(S.jsx)(F,{trackColor:"yellow",onPlay:l})]})},G={main:"#646464",secondary:"#fff",bg:"#3E3C3C",dark:"#525151",light:"#706c6c",yellow:"#E3EA91",yellow_darker:"#edd640",yellow_c:"#eeff00"};n(95);var J=function(){var t=Object(l.a)({palette:{primary:Object(i.a)({},G)}});return Object(S.jsx)("div",{className:"App",children:Object(S.jsx)(u.a,{theme:t,children:Object(S.jsx)(s.a,{bgcolor:"primary.bg",display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",children:Object(S.jsx)(W,{})})})})};o.a.render(Object(S.jsx)(J,{}),document.getElementById("root"))}},[[96,1,2]]]);
//# sourceMappingURL=main.543de480.chunk.js.map