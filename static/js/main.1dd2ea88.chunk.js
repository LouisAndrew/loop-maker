(this["webpackJsonploop-maker"]=this["webpackJsonploop-maker"]||[]).push([[0],{73:function(t,e,n){},95:function(t,e,n){},96:function(t,e,n){"use strict";n.r(e);var r=n(2),c=n.n(r),a=n(38),o=n.n(a),i=(n(73),n(74),n(1)),l=n(64),u=n(117),s=n(118),d=n(0),b=n.n(d),j=n(8),f=n(7),h=n(5),O=n(36),p=n(60),x=n.n(p),v=["B","A#","A","G#","G","F#","F","E","D#","D","C#","C"],g=["C"].concat(v,v),m="__",y=2*v.length+1,w=8,C=4,k=2,I=1,S=n(116),E=n(6),A=function(t){var e=t.playDuration,n=t.trackColor,c=Object(r.useState)(Math.random()),a=Object(h.a)(c,2),o=a[0],i=a[1],l=Object(r.useState)(0),u=Object(h.a)(l,2),d=u[0],b=u[1],j=0!==e,f=function(){b(0),i(Math.random())};return Object(r.useEffect)((function(){var t;return e>0?t=setInterval((function(){b((function(t){return 100===t?t:t+1}))}),e/100):f(),function(){t&&(f(),clearInterval(t))}}),[e]),j?Object(E.jsxs)(s.a,{position:"absolute",height:"100%",width:"100%",bgcolor:"rgba(0, 0, 0, 0.1)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",sx:{backdropFilter:"blur(1px)",zIndex:99},children:[Object(E.jsx)(s.a,{color:"#fff",fontWeight:"bold",fontSize:"32px",children:"PLAYING AUDIO"}),Object(E.jsx)(s.a,{width:"20vw",color:"primary.".concat(n),sx:{marginTop:3},children:Object(E.jsx)(S.a,{color:"inherit",variant:"determinate",value:d},o)})]}):null};A.defaultProps={trackColor:"yellow"};var D=A,M=n(9),R=n(113),z=n(114),P=n(62),_=n.n(P),B=n(63),F=function(t){var e=t.trackColor,n=void 0===e?"yellow":e,a=t.onPlay,o=Object(r.useState)([]),l=Object(h.a)(o,2),u=l[0],d=l[1],b=Object(r.useState)({}),f=Object(h.a)(b,2),O=f[0],p=f[1],x=Object(r.useState)(Math.random()),w=Object(h.a)(x,2),C=w[0],k=w[1],I=Object(r.useRef)(!0),S=function(){return k(Math.random())},A=function(t){return Array.from(Array(t))};Object(r.useEffect)((function(){I.current?I.current=!1:S()}),[u,O]);var D="primary.".concat(n);return Object(E.jsxs)(R.a,{padding:4,children:[Object(E.jsxs)(R.a,{direction:"row",spacing:1,paddingBottom:2,children:[Object(E.jsx)(z.a,{onClick:function(){a(u.map((function(t){var e;return"".concat(t).concat(m).concat(null!==(e=O[t])&&void 0!==e?e:0)})))},sx:{backgroundColor:D,"&:hover":{backgroundColor:D}},children:"Play"}),Object(E.jsx)(z.a,{onClick:function(){d([]),p([])},variant:"outlined",sx:{color:D,borderColor:D},children:"Clear"})]}),Object(E.jsx)(R.a,{spacing:.25,children:A(y).map((function(t,e){var n=e%v.length===0?"".concat(D,"_c"):"".concat(D).concat(["","_darker"][Math.floor(e/v.length)]);return Object(E.jsxs)(R.a,{width:"fit-content",spacing:.25,direction:"row",alignItems:"center",sx:{borderWidth:1,borderStyle:"solid",borderColor:"transparent",borderRadius:.5,"&:hover":{borderColor:n,transition:"200ms"}},children:[Object(E.jsx)(s.a,{height:25,width:50,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",color:n,children:g[e]}),A(48).map((function(t,r){var a="".concat(e).concat(m).concat(r),o=O[a];return Object(E.jsx)(c.a.Fragment,{children:Object(E.jsx)(s.a,{width:25,height:25,borderRadius:.5,sx:{backgroundColor:"primary.dark","&:hover":{backgroundColor:"primary.main",opacity:[.9,.8,.7]}},onClick:function(){return t=a,void(u.includes(t)?(d((function(e){return e.filter((function(e){return e!==t}))})),p((function(e){return _()(e,[t])}))):(d([].concat(Object(j.a)(u),[t])),p(Object(i.a)(Object(i.a)({},O),{},Object(M.a)({},t.toString(),1)))));var t},children:u.includes(a)&&o?Object(E.jsx)(B.ResizableBox,{height:25,width:25*o+2*(o-1),axis:"x",handleSize:[10,10],onResizeStop:function(t,e){!function(t,e){var n=e.split(m),r=Object(h.a)(n,2),c=r[0],a=r[1];if(u.includes("".concat(c).concat(m).concat(parseInt(a,10)+1)))S();else{var o=Math.floor(t/32)+(t%32>0?1:0),l=parseInt(a,10)+o-1;[u.includes(l),l>=48].some(Boolean)?S():p((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(M.a)({},e,o))}))}}(e.size.width,a)},children:Object(E.jsx)(s.a,{bgcolor:n,height:"100%",width:"100%",borderRadius:.5})}):null})},"col-".concat(r))}))]},"row-".concat(e))}))},C)]})};F.defaultProps={trackColor:"yellow"};var G=F,W=function(){var t=Object(r.useState)(0),e=Object(h.a)(t,2),n=e[0],c=e[1],a=function(t,e){return[Math.floor(t/e),t%e]},o=function(t){var e=a(t,w),n=Object(h.a)(e,2),r=n[0],c=n[1],o=a(c,C),i=Object(h.a)(o,2),l=i[0],u=i[1],s=a(u,k),d=Object(h.a)(s,2),b=d[0],j=d[1],f=a(j,I);return{"1n":r,"2n":l,"4n":b,"8n":Object(h.a)(f,1)[0]}},i=function(t){return O.b.toSeconds(t)},l=function(){var t=Object(f.a)(b.a.mark((function t(e){var n,r,a,l;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.map((function(t){var e=t.split(m),n=Object(h.a)(e,3),r=n[0],c=n[1],a=n[2];return{row:r,duration:o(a),start:o(c)}})),(r=Object.entries(x()(n,(function(t){return t.row}))).map((function(t){var e=Object(h.a)(t,2),n=e[0],r=e[1];return{note:function(){var t=g[n],e=[5,4,3][Math.floor(n/(v.length-1))];return"".concat(t).concat("C"===t?e+1:e)}(),noteDatas:r,player:(new O.a).toDestination()}}))).forEach((function(t){var e=t.noteDatas,n=t.player,r=t.note;e.forEach((function(t){var e=t.duration,c=t.start;n.triggerAttackRelease(r,e,"+".concat(i(c)))}))})),!(n.length>0)){t.next=11;break}return a=Object(j.a)(n).map((function(t){return e=t.start,n=t.duration,1e3*(i(e)+i(n));var e,n})),l=a.sort((function(t,e){return e-t}))[0],c(l),t.next=9,O.c();case 9:setTimeout((function(){c(0),r.forEach((function(t){t.player.dispose()}))}),l+500),O.b.cancel(l/1e3);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(E.jsxs)(s.a,{position:"relative",children:[Object(E.jsx)(D,{trackColor:"yellow",playDuration:n}),Object(E.jsx)(G,{trackColor:"yellow",onPlay:l})]})},J={main:"#646464",secondary:"#fff",bg:"#3E3C3C",dark:"#525151",light:"#706c6c",yellow:"#E3EA91",yellow_darker:"#edd640",yellow_c:"#eeff00"};n(95);var N=function(){var t=Object(l.a)({palette:{primary:Object(i.a)({},J)}});return Object(E.jsx)("div",{className:"App",children:Object(E.jsx)(u.a,{theme:t,children:Object(E.jsx)(s.a,{bgcolor:"primary.bg",display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",children:Object(E.jsx)(W,{})})})})};o.a.render(Object(E.jsx)(N,{}),document.getElementById("root"))}},[[96,1,2]]]);
//# sourceMappingURL=main.1dd2ea88.chunk.js.map